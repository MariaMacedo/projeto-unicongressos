create database db_unicongressos;

use db_unicongressos;


-- TABELA LOGIN

create table tb_loginusuario(
id_login int auto_increment, 
email_login varchar(100),
senha_login varchar(8),
constraint pk_login primary key (id_login)
);

alter table tb_loginusuario
add constraint fk_email_login foreign key (email_usuario)
references tb_usuario (email_usuario);

alter table tb_loginusuario
add constraint fk_senha_login foreign key (senha_usuario)
references tb_usuario (senha_usuario);
-- TABELA CONGRESSO

create table tb_congresso(
id_congresso int auto_increment not null,
tema_congresso varchar(200) not null,
endereco_congresso varchar (50),
bairro_congresso varchar (50), 
cidade_congresso varchar (50),
estado_congresso varchar (50),
data_congresso datetime,
hora_congresso datetime,
valor_congresso float,
descricao_congresso text,
id_palestra int,
constraint pk_congresso primary key (id_congresso)
);

alter table tb_congresso
add constraint fk_congressopalest foreign key (id_palestra)
references tb_palestra (id_palestra);

-- **************************//********************************

-- TABELA PALESTRA
create table tb_palestra (
id_palestra int auto_increment not null,
tema_palestra varchar(100) not null,
local_palestra varchar (50),
hora_palestra time,
data_palestra date,
descricao_palestra text,
nome_palestrante varchar (100),
contatos_palestrante varchar(50),
telefone_palestrante int,
descricao_palestrante text,
id_congresso int,

constraint pk_palestra primary key (id_palestra),
constraint fk_palestcongresso foreign key (id_congresso)
 references tb_congresso (id_congresso)
);

-- ***************************************

-- TABELA USU√ÅRIO

create table tb_usuario(
id_usuario int auto_increment not null,
cpf_usuario char(11) not null,
cnpj_usuario int,
nome_usuario varchar (100),
endereco_usuario varchar (50),
bairro_usuario varchar (50),
cidade_usuario varchar (50),
estado_usuario varchar (50),
telefone_usuario int,
email_usuario varchar(50),
senha_usuario varchar(8),
id_congresso int,
id_palestra int,
constraint pk_usuario primary key (id_usuario),
constraint fk_usuariocongresso foreign key (id_congresso)
references tb_congresso (id_congresso),
constraint fk_usuariopalestra foreign key (id_palestra)
references tb_palestra (id_palestra)
);
